import{E as X,y as f,z as m,A as $,D as x}from"./theme.f1I71pQ3.js";import{S as z,D as E,R as M}from"./api.DwkIGh4A.js";import N from"./api.FmFgRqLi.js";import{P as O}from"./index.D79yq5xW.js";import{d as U,a2 as j,p as n,a3 as q,v as A,q as F,$ as G,o as K,c as L,j as a,N as R,G as W,w as H,t as I,k as S,K as J}from"./framework.uyLDs8jX.js";import"./popup.vue_vue_type_script_setup_true_lang.B3sZFBwL.js";import"./api.BKqPkQKG.js";const Q={...z,...E,...M,...N},T={absolute:"",inset:"0",w:"full",h:"full",p:"x-2",rounded:"full"},ae=U({name:"WbSlider",__name:"slider",props:j({max:{},min:{},popupProps:{},size:{},disabled:{type:Boolean},readonly:{type:Boolean},value:{},modelValue:{},defaultValue:{},onChange:{type:Function}},Q),emits:["change","update:value","update:modelValue"],setup(D){const V=D,d=n(),v=n(),_=n(),r=n();let l=null,s=!1,w=0,p=0,o=0;const u=n(0),[i,h]=X({props:q(V)});function c(e){return e<0?0:e>l.width?100:Math.round(e/l.width*100)}function y(e){var t;e.stopPropagation(),s=!0,w=e.clientX,o=e.clientX-l.left,p=o,u.value=c(o),(t=r.value)==null||t.updatePopup(),h(u.value),f(document.body,"mousemove",C)}function k(e){var P;if(!s)return;s=!0;let t=e.clientX-w+p;t<0?t=0:t>l.width&&(t=l.width),o=t,u.value=c(o),(P=r.value)==null||P.updatePopup(),h(u.value)}const C=$(k,18);function B(){s=!1,p=o,m(document.body,"mousemove",C)}function b(){l=v.value.getBoundingClientRect()}const g=x(b,300);return A(()=>{b(),F(()=>i.value,()=>{var e;i.value&&(o=l.width*i.value/100,u.value=c(o),(e=r.value)==null||e.updatePopup())},{immediate:!0}),f(d.value,"mousedown",y),f(document.body,"mouseup",B),f(window,"resize",g)}),G(()=>{m(d.value,"mousedown",y),m(window,"resize",g)}),(e,t)=>(K(),L("div",{ref_key:"ColorHueRef",ref:d,relative:"",w:"full",h:"1",bg:"$wb-color-layer",rounded:"full",select:"none"},[a("div",T,[a("div",{absolute:"",top:"0",left:"0",h:"full",bg:"$wb-color-primary",rounded:"full",style:R({width:`${u.value}%`})},null,4),a("div",{ref_key:"ColorHueContentRef",ref:v,w:"full",h:"full",flex:"1",select:"none",cursor:"pointer"},null,512)]),a("div",{ref_key:"ColorHueHandlerRef",ref:_,absolute:"",top:"50%",left:"0",w:"4",h:"4",bg:"$wb-color-primary",rounded:"full",shadow:"sm black",cursor:"pointer",select:"none",transform:"translate-x--50% translate-y--50%",style:R({left:`${u.value}%`})},[W(S(O),J({ref_key:"SliderValuePopupRef",ref:r,trigger:"hover",placement:"top"},e.popupProps,{animate:!1}),{content:H(()=>[a("div",null,I(S(i)),1)]),default:H(()=>[t[0]||(t[0]=a("div",{w:"4",h:"4",rounded:"full",ring:"2 inset $wb-color-foreground"},null,-1))]),_:1},16)],4)],512))}});export{ae as default};
